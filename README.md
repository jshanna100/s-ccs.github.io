# LAB homepage
This is the git repository, containing the homepage for the eeg-lab at the VIS of the University of Stuttgart.
The readme will be updated as the project grows, if you feel something is missing, feel free to add an issue. 

## How to deploy the website locally
1. Make sure you have [Julia](https://julialang.org/) installed. This Website is running on Julia 1.6.3, but later versions should work as well.
1. Install Franklin for Julia, by going into the [package manager](https://docs.julialang.org/en/v1/stdlib/Pkg/) and typing `add Franklin; add CSV; add DataStructures`.
1. Clone this git repository.
1. In Julia, exit the package manager, if you didn't already and [cd](https://docs.julialang.org/en/v1/base/file/#Base.Filesystem.cd-Tuple{AbstractString}) into your local repository.
1. Then type the following:
   ```
   using Franklin
   using CSV
   serve()
   ```
   This should open up your browser and render the website. It might take a few seconds to intialize.
   
If you experience any trouble, have a look at the Franklin doc: [Quick Start](https://franklinjl.org/#quick_start)

### Troubleshooting
1. If your local preview of the members page shows something along the lines of
   Argument Error: Package CSV not found in current path: Run `import Pkg; Pkg.add("CSV")` to install CSV package.
   Have a look [here](https://franklinjl.org/code/#projecttoml). This problem might be due to a wrong path in the project.toml or manifest.toml. 
   The most reliable way to fix this so far, is deleteing both .toml files and re-adding the packages in julia by cd'ing into the project folder and adding, as well as       activating the packages (see link above).

## Update Team Members
The team member page is auto generated by the contents in [\_assets\team\ ](https://github.com/s-ccs/s-ccs.github.io/tree/main/_assets/team). You can add, delete or update both current members or almunis in their respective folders. 
### Naming of the folders
The folders consist of a number and the team member's name. I.e. `001_benedikt_ehinger `
The number is for ordering purposes, the name just for readability reasons. The name used for the website is taken from the CSV file
### Folder Contents
The folder of each member needs the following things:
1. A `.jpg` image, named profile_image.jpg with a size of 360px x 360px. 
2. A `.csv` file, containing all info displayed in the member card.
#### CSV Structure
The CSV should use `;` as its delimiter and `newline` as row seperator. 
The structer of the file should look like:
|title|name|position|hobbys|contact|
|-----|----|--------|------|-------|
|Jun.-Prof. Dr.|Benedikt Ehinger|SimTech-Tenure-Track-Professur CCS|Lorem ipsum|benedikt.ehinger@vis.uni-stuttgart.de|

## Update side_nav.html
If you add any pages, they will be added to the navigation menu, whenever you push the changes to Github. If you wan't to update the nav bar locally, 
just cd into the folder where you would normally start Franklin. There run
```
include("./_assets/scripts/generate_side_nav.jl");
```

## Custom ordering the navigation
The first level of all navigation elements can have a custom ordering, while any higher level is going to be sorted alphabeticially.
The first level is sorted like this: Any page that is specified in the custom order (see below) is sorted and inserted into the navigation as the custom order demands. Any further page that is not contained in there, will be appended at the end of the navigation. In case of multiple such pages, those are sorted alphabeticially.

In the `generate_side_nav.jl` under `.\_assets\scripts\` is a `custom_order` array, that contains all custom ordered pages in their correct order. This array can be modified to meet the demands needed. (This array might be extracted in the future, if the script is not like documented here, look for an obvious script name in the script folder)

## Update Lunr search index
If you change any content inside the website, make sure to update the lunr search index:
1. Make sure you have Lunr and Cheerio installed with:
   1. Pkg.add(NodeJS)
   2. using NodeJS
   3. run(\`$(npm_cmd) install lunr\`); run(\`$(npm_cmd) install cheerio\`); 
2. Update the search index by calling lunr()
3. You're good to go! Now you can just run serve() as usual

## Licensing
This repository is licensed under the MIT license.
